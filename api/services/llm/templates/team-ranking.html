<!DOCTYPE html>
<html lang="en">

<head>
  <script type="module">
    import preline from 'https://cdn.jsdelivr.net/npm/preline@2.4.1/+esm'
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Htmx -->
  <script src="https://unpkg.com/htmx.org@2.0.0"
    integrity="sha384-wS5l5IKJBvK6sPTKa2WZ1js3d947pvWXbPJ1OmWfEuxLgeHcEbjUUA5i9V5ZkpCw"
    crossorigin="anonymous"></script>

</head>

<body>
  <style>
    .bg-new-gray50 {
      background-color: #F8F9FD;
    }

    .bg-new-gray100 {
      background-color: #F2F6FE;
    }

    .bg-new-gray200 {
      background-color: #EEF2FC;
    }

    .bg-new-gray300 {
      background-color: #E8EEFC;
    }

    .bg-new-gray400 {
      background-color: #D9E2F6;
    }

    .bg-new-gray500 {
      background-color: #B5C0DB;
    }

    .bg-new-gray600 {
      background-color: #99A4C2;
    }

    .bg-new-gray700 {
      background-color: #8491B0;
    }

    .bg-new-gray800 {
      background-color: #525F7F;
    }

    .bg-new-gray900 {
      background-color: #364059;
    }

    .text-new-gray50 {
      color: #F8F9FD;
    }

    .text-new-gray100 {
      color: #F2F6FE;
    }

    .text-new-gray200 {
      color: #EEF2FC;
    }

    .text-new-gray300 {
      color: #E8EEFC;
    }

    .text-new-gray400 {
      color: #D9E2F6;
    }

    .text-new-gray500 {
      color: #B5C0DB;
    }

    .text-new-gray600 {
      color: #99A4C2;
    }

    .text-new-gray700 {
      color: #8491B0;
    }

    .text-new-gray800 {
      color: #525F7F;
    }

    .text-new-gray900 {
      color: #364059;
    }

    .is-outdated-true {
      color: #FF616A;
    }

    .is-outdated-false {
      color: #99A4C2;
    }

    .htmx-indicator {
      display: none;
    }

    .htmx-request .htmx-indicator {
      display: block;
    }

    .htmx-request.htmx-indicator {
      display: block;
    }

    #team-ranking[disabled] {
      display: none;
    }
  </style>
  <div class="relative w-full h-full bg-new-gray50">
    <p class="text-new-gray800 font-medium text-lg mb-3">
      Vis√£o geral dos times
    </p>
    <div class="relative w-full h-full bg-white rounded-lg shadow-for-background-light px-8 py-5">
      <div class="flex">
        <div>
          <p class="text-[18px] font-medium leading-normal tracking-[0.18px] text-[#364059] font-circular-std">
            Ranking de times
          </p>
          <p class="text-[14px] font-[450] leading-normal tracking-[0.14px] text-[#8491B0] font-circular-std">
            Progresso geral dos objetivos no ciclo atual
          </p>
        </div>
        <select class="px-2 w-[100px] h-[36px] flex-shrink-0 rounded-[4px] border-2 border-[#D9E2F6] 
          bg-white block ml-auto border-gray-200 rounded-lg text-sm outline-none
          focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none"
          hx-get="/core/llm/team-ranking/{{ opts.team_id }}/children" hx-params="*" name="cycle_id"
          hx-target="#team-ranking" hx-swap="innerHTML" hx-indicator="#ranking-skeleton"
          hx-disabled-elt="#team-ranking">
          {% for cycle in opts.cycles %}
          <option value="{{ cycle.id }}" selected="{{cycle.id==opts.cycle_id}}">{{ cycle.period }}</option>
          {% endfor %}
        </select>
      </div>
      <div id="team-ranking">
        {% include 'team-ranking-content.html' %}
      </div>
      <div id="ranking-skeleton" class="flex animate-pulse htmx-indicator">
        <div class="shrink-0 flex items-center space-x-3 mb-5">
          <span class="size-12 block bg-gray-200 rounded-full"></span>
          <p class="h-4 bg-gray-200 rounded-full w-full"></p>
        </div>
        <div class="shrink-0 flex items-center space-x-3 mb-5">
          <span class="size-12 block bg-gray-200 rounded-full"></span>
          <p class="h-4 bg-gray-200 rounded-full w-full"></p>
        </div>
        <div class="shrink-0 flex items-center space-x-3 mb-5">
          <span class="size-12 block bg-gray-200 rounded-full"></span>
          <p class="h-4 bg-gray-200 rounded-full w-full"></p>
        </div>
      </div>
    </div>
  </div>
</body>